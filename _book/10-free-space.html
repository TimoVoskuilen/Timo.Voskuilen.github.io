<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="10 Free space | Index" />
<meta property="og:type" content="book" />







<meta name="description" content="10 Free space | Index">

<title>10 Free space | Index</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="1-c.elegans-experiment.html#c.elegans-experiment"><span class="toc-section-number">1</span> C.elegans experiment</a></li>
<li><a href="2-reproducable-research.html#reproducable-research"><span class="toc-section-number">2</span> Reproducable research</a></li>
<li><a href="3-guerilla-analytics.html#guerilla-analytics"><span class="toc-section-number">3</span> Guerilla analytics</a></li>
<li><a href="4-cv.html#cv"><span class="toc-section-number">4</span> CV</a></li>
<li><a href="5-looking-ahead.html#looking-ahead"><span class="toc-section-number">5</span> Looking ahead</a></li>
<li><a href="6-zotero-reference-management.html#zotero-reference-management"><span class="toc-section-number">6</span> Zotero reference management</a></li>
<li><a href="7-relational-databases.html#relational-databases"><span class="toc-section-number">7</span> Relational databases</a></li>
<li><a href="8-creating-r-package.html#creating-r-package"><span class="toc-section-number">8</span> Creating R package</a></li>
<li><a href="9-making-a-parameterized-markdown.html#making-a-parameterized-markdown"><span class="toc-section-number">9</span> Making a parameterized markdown</a></li>
<li><a href="10-free-space.html#free-space"><span class="toc-section-number">10</span> Free space</a></li>
<li><a href="11-frontpage.html#frontpage"><span class="toc-section-number">11</span> frontpage</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="free-space" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Free space</h1>
<p>I like the idea of making non-R users play with data. thanks to the R shiny package this is possible and I wil be showing you my code for a web application.</p>
<p><strong>shiny package</strong></p>
<p>Shiny is a package created by Rstudio that makes it possible to build interactive web applications with R. that would mean that everyone can use it, R experienced or not.</p>
<p><strong>Context</strong></p>
<p>Monkeypox is an infectious disease caused by the monkeypox virus that can occur in certain animals, including humans. Symptoms begin with: fever, headache, muscle pains, swollen lymph nodes and feeling tired. An ongoing outbreak of monkeypox was confirmed on May 6th 2022, beginning with a Britisch resident who, after traveling to Nigeria (where the disease is endemic), presented symptoms consistent with the monkeypox. The resident who went to Nigeria returned to the United kingdom, creating the countryâ€™s index case of the outbreak. The disease is spreading around countrys, and</p>
<p><strong>My web application</strong></p>
<p>The application I have build allows the user to explore and visualize data about new cases of monkeypox from multiple countrys in the world. Its quite a simple application, you get:
A table of countries sorted from the hightest monkeypox rate to the lowest monkeypox rate.
A world map with data plotted on it.</p>
<p><strong>Dataset</strong></p>
<p>My dataset includes countrys, confirmed cases, suspected cases, Hospitalized and travel history from people who have, or might have the monkeypox virus. The dataset was created by: Deep Contractor and was obtained from:
<a href="https://www.kaggle.com/datasets/deepcontractor/monkeypox-dataset-daily-updated?select=Monkey_Pox_Cases_Worldwide.csv" class="uri">https://www.kaggle.com/datasets/deepcontractor/monkeypox-dataset-daily-updated?select=Monkey_Pox_Cases_Worldwide.csv</a></p>
<p><strong>CODE</strong></p>
<p>First I needed to prepare the data:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="10-free-space.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb47-2"><a href="10-free-space.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb47-3"><a href="10-free-space.html#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb47-4"><a href="10-free-space.html#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neattools)</span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="10-free-space.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Source my monkeypox file with data</span></span>
<span id="cb48-2"><a href="10-free-space.html#cb48-2" aria-hidden="true" tabindex="-1"></a>monkeypox_data<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_raw/010_free_space/Monkey_Pox_Cases_Worldwide.csv&quot;</span>)</span></code></pre></div>
<p>To plot a map with on it an indication on how bad the infections were per country, I would need a package that allows you to print a world map. the package <strong>maps</strong> would do that for me. To plot the indication per country, I would need a data frame with the longtitudes and latitudes from all countrys in the world, I found the following dataset online: <a href="https://www.kaggle.com/datasets/paultimothymooney/latitude-and-longitude-for-every-country-and-state" class="uri">https://www.kaggle.com/datasets/paultimothymooney/latitude-and-longitude-for-every-country-and-state</a></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="10-free-space.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># source of country latitude and longtitude </span></span>
<span id="cb49-2"><a href="10-free-space.html#cb49-2" aria-hidden="true" tabindex="-1"></a>countryCoordinates <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_raw/010_free_space/world_country_and_usa_states_latitude_and_longitude_values.csv&quot;</span>)</span>
<span id="cb49-3"><a href="10-free-space.html#cb49-3" aria-hidden="true" tabindex="-1"></a>countryCoordinates2 <span class="ot">&lt;-</span> countryCoordinates[,<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span></code></pre></div>
<p>Next I would want to merge these datasets so the latitude and longtitude, and rate of infections were in the same graph, I did the following:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="10-free-space.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Rename column to make it merge with dataset</span></span>
<span id="cb50-2"><a href="10-free-space.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(monkeypox_data)[<span class="fu">names</span>(monkeypox_data)<span class="sc">==</span><span class="st">&quot;Country&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;country&quot;</span></span>
<span id="cb50-3"><a href="10-free-space.html#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">#rename england to united kingdom</span></span>
<span id="cb50-4"><a href="10-free-space.html#cb50-4" aria-hidden="true" tabindex="-1"></a>monkeypox_data<span class="ot">&lt;-</span><span class="fu">replacevalue</span>(monkeypox_data, <span class="st">&quot;country&quot;</span>, <span class="st">&quot;England&quot;</span>, <span class="st">&quot;United Kingdom&quot;</span>)</span>
<span id="cb50-5"><a href="10-free-space.html#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a smaller data frame including only my variables of #interest:country, monkeypox rate, continent</span></span>
<span id="cb50-6"><a href="10-free-space.html#cb50-6" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span> monkeypox_data[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb50-7"><a href="10-free-space.html#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="10-free-space.html#cb50-8" aria-hidden="true" tabindex="-1"></a>mergedCleaned <span class="ot">&lt;-</span> <span class="fu">merge</span>(monkeypox_data, countryCoordinates2, <span class="at">by=</span><span class="st">&quot;country&quot;</span>, <span class="at">all.x=</span><span class="cn">FALSE</span>)</span>
<span id="cb50-9"><a href="10-free-space.html#cb50-9" aria-hidden="true" tabindex="-1"></a>mergedCleaned</span></code></pre></div>
<p>Now that I have my dataset ready, I want to start by making the shiny web application. To do this I need to create two different components: A user interface definition and a server script. the user interface definition is called ui.R and the server script server.R. they both need to be in the same folder.</p>
<p>Below are the scripts for the user interface and the server components:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="10-free-space.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="do">## server.R</span></span>
<span id="cb51-2"><a href="10-free-space.html#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="10-free-space.html#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb51-4"><a href="10-free-space.html#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb51-5"><a href="10-free-space.html#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb51-6"><a href="10-free-space.html#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neattools)</span>
<span id="cb51-7"><a href="10-free-space.html#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="10-free-space.html#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Source my monkeypox file with data</span></span>
<span id="cb51-9"><a href="10-free-space.html#cb51-9" aria-hidden="true" tabindex="-1"></a>monkeypox_data<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_raw/Monkey_Pox_Cases_Worldwide.csv&quot;</span>)</span>
<span id="cb51-10"><a href="10-free-space.html#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(monkeypox_data)[<span class="fu">names</span>(monkeypox_data)<span class="sc">==</span><span class="st">&quot;Country&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;country&quot;</span></span>
<span id="cb51-11"><a href="10-free-space.html#cb51-11" aria-hidden="true" tabindex="-1"></a>monkeypox_data<span class="ot">&lt;-</span><span class="fu">replacevalue</span>(monkeypox_data, <span class="st">&quot;country&quot;</span>, <span class="st">&quot;England&quot;</span>, <span class="st">&quot;United Kingdom&quot;</span>)</span>
<span id="cb51-12"><a href="10-free-space.html#cb51-12" aria-hidden="true" tabindex="-1"></a>monkeypox_data</span>
<span id="cb51-13"><a href="10-free-space.html#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="co"># source of country latitude and longtitude </span></span>
<span id="cb51-14"><a href="10-free-space.html#cb51-14" aria-hidden="true" tabindex="-1"></a>countryCoordinates <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_raw/world_country_and_usa_states_latitude_and_longitude_values.csv&quot;</span>)</span>
<span id="cb51-15"><a href="10-free-space.html#cb51-15" aria-hidden="true" tabindex="-1"></a>countryCoordinates2 <span class="ot">&lt;-</span> countryCoordinates[,<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb51-16"><a href="10-free-space.html#cb51-16" aria-hidden="true" tabindex="-1"></a>countryCoordinates2</span>
<span id="cb51-17"><a href="10-free-space.html#cb51-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a smaller data frame including only my variables of #interest:country, monkeypox rate, continent</span></span>
<span id="cb51-18"><a href="10-free-space.html#cb51-18" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span> monkeypox_data[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb51-19"><a href="10-free-space.html#cb51-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-20"><a href="10-free-space.html#cb51-20" aria-hidden="true" tabindex="-1"></a>mergedCleaned <span class="ot">&lt;-</span> <span class="fu">merge</span>(monkeypox_data, countryCoordinates2, <span class="at">by=</span><span class="st">&quot;country&quot;</span>, <span class="at">all.x=</span><span class="cn">FALSE</span>)</span>
<span id="cb51-21"><a href="10-free-space.html#cb51-21" aria-hidden="true" tabindex="-1"></a>mergedCleaned</span>
<span id="cb51-22"><a href="10-free-space.html#cb51-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-23"><a href="10-free-space.html#cb51-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-24"><a href="10-free-space.html#cb51-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Define server logic to plot monkeypox data for various #continents/countries</span></span>
<span id="cb51-25"><a href="10-free-space.html#cb51-25" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyServer</span>(<span class="cf">function</span>(input,output){</span>
<span id="cb51-26"><a href="10-free-space.html#cb51-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-27"><a href="10-free-space.html#cb51-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sentence presenting the table in a reactive expression</span></span>
<span id="cb51-28"><a href="10-free-space.html#cb51-28" aria-hidden="true" tabindex="-1"></a>  tableText<span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb51-29"><a href="10-free-space.html#cb51-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">&quot;This table ranks countries by number of monkeypox cases. You have selected all countries in&quot;</span>)</span>
<span id="cb51-30"><a href="10-free-space.html#cb51-30" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb51-31"><a href="10-free-space.html#cb51-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-32"><a href="10-free-space.html#cb51-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># now I return the tabletText for printing as a caption</span></span>
<span id="cb51-33"><a href="10-free-space.html#cb51-33" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>caption<span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb51-34"><a href="10-free-space.html#cb51-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tableText</span>()</span>
<span id="cb51-35"><a href="10-free-space.html#cb51-35" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb51-36"><a href="10-free-space.html#cb51-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-37"><a href="10-free-space.html#cb51-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-38"><a href="10-free-space.html#cb51-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot a table that ranks countries (from most affected to the least) by monkeypox rate</span></span>
<span id="cb51-39"><a href="10-free-space.html#cb51-39" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>rank<span class="ot">&lt;-</span> <span class="fu">renderTable</span>({</span>
<span id="cb51-40"><a href="10-free-space.html#cb51-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(x[<span class="fu">order</span>(x<span class="sc">$</span>Confirmed_Cases, <span class="at">decreasing=</span>T),], <span class="at">n =</span> input<span class="sc">$</span>obs)  </span>
<span id="cb51-41"><a href="10-free-space.html#cb51-41" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb51-42"><a href="10-free-space.html#cb51-42" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb51-43"><a href="10-free-space.html#cb51-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-44"><a href="10-free-space.html#cb51-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot a world map visualizing monkeypox incidence. The radius of the circle correspond</span></span>
<span id="cb51-45"><a href="10-free-space.html#cb51-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to the number of monkeypox new cases (larger radius = more monkeypox new cases)</span></span>
<span id="cb51-46"><a href="10-free-space.html#cb51-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-47"><a href="10-free-space.html#cb51-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-48"><a href="10-free-space.html#cb51-48" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>map<span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb51-49"><a href="10-free-space.html#cb51-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb51-50"><a href="10-free-space.html#cb51-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(<span class="st">&quot;world&quot;</span>,<span class="at">col=</span><span class="st">&quot;gray90&quot;</span>, <span class="at">fill=</span><span class="cn">TRUE</span>)</span>
<span id="cb51-51"><a href="10-free-space.html#cb51-51" aria-hidden="true" tabindex="-1"></a>    radius <span class="ot">&lt;-</span> (mergedCleaned[,input<span class="sc">$</span>plottie])</span>
<span id="cb51-52"><a href="10-free-space.html#cb51-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">symbols</span>(mergedCleaned<span class="sc">$</span>longitude, mergedCleaned<span class="sc">$</span>latitude, <span class="at">bg =</span> <span class="st">&quot;red&quot;</span>, <span class="at">fg =</span> <span class="st">&quot;green&quot;</span>, <span class="at">lwd =</span> <span class="fl">0.1</span>, <span class="at">circles =</span> radius, <span class="at">inches =</span> <span class="fl">0.12</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb51-53"><a href="10-free-space.html#cb51-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-54"><a href="10-free-space.html#cb51-54" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb51-55"><a href="10-free-space.html#cb51-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-56"><a href="10-free-space.html#cb51-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-57"><a href="10-free-space.html#cb51-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-58"><a href="10-free-space.html#cb51-58" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<p>and the code for the UI component of the shiny app:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="10-free-space.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="do">##ui.R</span></span>
<span id="cb52-2"><a href="10-free-space.html#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="10-free-space.html#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb52-4"><a href="10-free-space.html#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb52-5"><a href="10-free-space.html#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb52-6"><a href="10-free-space.html#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(neattools)</span>
<span id="cb52-7"><a href="10-free-space.html#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="10-free-space.html#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Source my monkeypox file with data</span></span>
<span id="cb52-9"><a href="10-free-space.html#cb52-9" aria-hidden="true" tabindex="-1"></a>monkeypox_data<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_raw/Monkey_Pox_Cases_Worldwide.csv&quot;</span>)</span>
<span id="cb52-10"><a href="10-free-space.html#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(monkeypox_data)[<span class="fu">names</span>(monkeypox_data)<span class="sc">==</span><span class="st">&quot;Country&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;country&quot;</span></span>
<span id="cb52-11"><a href="10-free-space.html#cb52-11" aria-hidden="true" tabindex="-1"></a>monkeypox_data<span class="ot">&lt;-</span><span class="fu">replacevalue</span>(monkeypox_data, <span class="st">&quot;country&quot;</span>, <span class="st">&quot;England&quot;</span>, <span class="st">&quot;United Kingdom&quot;</span>)</span>
<span id="cb52-12"><a href="10-free-space.html#cb52-12" aria-hidden="true" tabindex="-1"></a>monkeypox_data</span>
<span id="cb52-13"><a href="10-free-space.html#cb52-13" aria-hidden="true" tabindex="-1"></a><span class="co"># source of country latitude and longtitude </span></span>
<span id="cb52-14"><a href="10-free-space.html#cb52-14" aria-hidden="true" tabindex="-1"></a>countryCoordinates <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_raw/world_country_and_usa_states_latitude_and_longitude_values.csv&quot;</span>)</span>
<span id="cb52-15"><a href="10-free-space.html#cb52-15" aria-hidden="true" tabindex="-1"></a>countryCoordinates2 <span class="ot">&lt;-</span> countryCoordinates[,<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb52-16"><a href="10-free-space.html#cb52-16" aria-hidden="true" tabindex="-1"></a>countryCoordinates2</span>
<span id="cb52-17"><a href="10-free-space.html#cb52-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a smaller data frame including only my variables of #interest:country, monkeypox rate, continent</span></span>
<span id="cb52-18"><a href="10-free-space.html#cb52-18" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span> monkeypox_data[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb52-19"><a href="10-free-space.html#cb52-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-20"><a href="10-free-space.html#cb52-20" aria-hidden="true" tabindex="-1"></a>mergedCleaned <span class="ot">&lt;-</span> <span class="fu">merge</span>(monkeypox_data, countryCoordinates2, <span class="at">by=</span><span class="st">&quot;country&quot;</span>, <span class="at">all.x=</span><span class="cn">FALSE</span>)</span>
<span id="cb52-21"><a href="10-free-space.html#cb52-21" aria-hidden="true" tabindex="-1"></a>mergedCleaned</span>
<span id="cb52-22"><a href="10-free-space.html#cb52-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-23"><a href="10-free-space.html#cb52-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Define UI for my first breast cancer application</span></span>
<span id="cb52-24"><a href="10-free-space.html#cb52-24" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyUI</span>(<span class="fu">pageWithSidebar</span>(</span>
<span id="cb52-25"><a href="10-free-space.html#cb52-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-26"><a href="10-free-space.html#cb52-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># my Application title</span></span>
<span id="cb52-27"><a href="10-free-space.html#cb52-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">headerPanel</span>(<span class="st">&quot;Monkeypox Rate across Countrys&quot;</span>),</span>
<span id="cb52-28"><a href="10-free-space.html#cb52-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-29"><a href="10-free-space.html#cb52-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># a sidebar with controls to select the continent for wich I want to see the distribution</span></span>
<span id="cb52-30"><a href="10-free-space.html#cb52-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-31"><a href="10-free-space.html#cb52-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarPanel</span>(</span>
<span id="cb52-32"><a href="10-free-space.html#cb52-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">numericInput</span>(<span class="st">&quot;obs&quot;</span>, <span class="st">&quot;Choose how many countries to view in the table&quot;</span>, <span class="dv">3</span>),</span>
<span id="cb52-33"><a href="10-free-space.html#cb52-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">selectInput</span>(<span class="st">&quot;plottie&quot;</span>, <span class="st">&quot;Choose what you want to plot&quot;</span>, <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Confirmed_Cases&quot;</span>, <span class="st">&quot;Suspected_Cases&quot;</span>, <span class="st">&quot;Hospitalized&quot;</span>))</span>
<span id="cb52-34"><a href="10-free-space.html#cb52-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-35"><a href="10-free-space.html#cb52-35" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb52-36"><a href="10-free-space.html#cb52-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-37"><a href="10-free-space.html#cb52-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mainPanel</span>(</span>
<span id="cb52-38"><a href="10-free-space.html#cb52-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-39"><a href="10-free-space.html#cb52-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">h4</span>(<span class="fu">textOutput</span>(<span class="st">&quot;caption&quot;</span>)),</span>
<span id="cb52-40"><a href="10-free-space.html#cb52-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-41"><a href="10-free-space.html#cb52-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tableOutput</span>(<span class="st">&quot;rank&quot;</span>),</span>
<span id="cb52-42"><a href="10-free-space.html#cb52-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-43"><a href="10-free-space.html#cb52-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">helpText</span>(<span class="st">&quot;Below we report the same data of the table, on a world map. The size of the circle corresponds to the number of monkeypox new cases on that country.&quot;</span>),</span>
<span id="cb52-44"><a href="10-free-space.html#cb52-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-45"><a href="10-free-space.html#cb52-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plotOutput</span>(<span class="st">&quot;map&quot;</span>),</span>
<span id="cb52-46"><a href="10-free-space.html#cb52-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-47"><a href="10-free-space.html#cb52-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">helpText</span>(<span class="st">&quot;The disease is growing, and as it is still containable, this is a good way to keep an eye on spreading of the disease&quot;</span>)</span>
<span id="cb52-48"><a href="10-free-space.html#cb52-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-49"><a href="10-free-space.html#cb52-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-50"><a href="10-free-space.html#cb52-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-51"><a href="10-free-space.html#cb52-51" aria-hidden="true" tabindex="-1"></a>))</span></code></pre></div>
<p>To show you what my shiny application looks like I added a screenshot down below, my app is currently being hosted: u can check it out here: <a href="https://timovoskuilen.shinyapps.io/apenpokken/" class="uri">https://timovoskuilen.shinyapps.io/apenpokken/</a></p>
<p><img src="images/monkeypox_shiny.png" /></p>

</div>
<p style="text-align: center;">
<a href="9-making-a-parameterized-markdown.html"><button class="btn btn-default">Previous</button></a>
<a href="11-frontpage.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
